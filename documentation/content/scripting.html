<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Manual</title>
    </head>
    <body style="font-size:16pt;font-family:helvetica">

        <p><center><h3>Скрипты</h3></center></p>

        <p>
        Нередко для эффективного разбора протокола или отладки устройства необходимы методы обработки,
        характерные для конкретного случая. Для реализации этих методов пользователю предоставлен механизм скриптов.
        Перед запуском сессии необходимо указать путь к скрипту через диалог "Параметры сессии".
        </p>

        <p>
        Механизм предоставляет пользователю возможность задать собственные обработчики на следующие события:
        старт сессии, отправка данных, приём данных, завершение сессии.
        </p>

        <p>
        Обработчик события "отправка данных" вызывается ДО фактической отправки данных.
        В этот обработчик передаётся массив байт, содержимое которого перед отправкой можно произвольно изменять.
        </p>

        <p>
        В обработчик события "приём данных" данные попадают сразу после приёма и регистрации в логе.
        В обработчик передаётся копия данных, изменять их бессмысленно, однако для разбора пакета этого достаточно.
        </p>

        <p>
        Весь остальной функционал зависит от возможностей конкретного языка. Protodb из коробки поддерживает скрипты на Lua,
        а в репозитории есть соответствующие примеры.
        </p>

        <ul>
            <li><a href="scripting_lua.html">LUA-скрипты</a></li>
        </ul>
    </body>
</html>

